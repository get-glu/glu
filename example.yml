pipelines:
  - name: gitops-example-app
    phases:
      ci:
        source:
          kind: ci
          name: get-glu/gitops-example
        config:
          scm: github
      
      oci:
        source:
          kind: oci
          name: app
        depends_on: ci
      
      staging:
        source:
          kind: kubernetes
          name: staging
        depends_on: oci
        labels:
          url: http://0.0.0.0:30081
        config:
          namespace: default
          name: example
          container: exampled
      
      production:
        source:
          kind: kubernetes
          name: production
        depends_on: staging
        labels:
          url: http://0.0.0.0:30082
        config:
          namespace: production
          name: gitops-example-app
          container: gitops-example-app
